<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>bash conditionals | temptemp3.github.io</title>

<link rel="canonical" href="https://temptemp3.github.io/bash-conditionals.html" />
<link rel="stylesheet" href="css/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<style>
body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-104620931-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body class="w3-light-grey">
<div class="w3-content" style="max-width:1400px">
<!-- Header -->
<header class="w3-container w3-center w3-padding-32"> 
<h1><b><a style="text-decoration:none;" href="https://temptemp3.github.io/">tempt2<sup>3</sup></a></b></h1>
<p>Welcome to the blog of <span class="w3-tag"><a style="text-decoration:none;" href="https://github.com/temptemp3">temptemp3</a></span></p>
</header>
<!-- begin Grid -->
<div class="w3-row">
<div class="w3-col l8 s12">
<div class="w3-card-4 w3-margin w3-white">
<div class="w3-container">
<h1>bash conditionals</h1>

<!--
[bash conditionals](bash-conditionals.html)
-->

<hr />

<p>Guide to <a href="bash.html">bash</a> tests and conditions by example and notes.</p>

<h2>commands</h2>

<h3>if then elif then else fi</h3>

<p>if conditional block</p>

<p><a name="test"></a></p>

<h3>test</h3>

<pre><code>bash -c "help test"

test: test [expr]

Evaluate conditional expression.

Exits with a status of 0 (true) or 1 (false) depending on
the evaluation of EXPR.  Expressions may be unary or binary.  Unary
expressions are often used to examine the status of a file.  There
are string operators and numeric comparison operators as well.

The behavior of test depends on the number of arguments.  Read the
bash manual page for the complete specification.

File operators:

  -a FILE        True if file exists.
  -b FILE        True if file is block special.
  -c FILE        True if file is character special.
  -d FILE        True if file is a directory.
  -e FILE        True if file exists.
  -f FILE        True if file exists and is a regular file.
  -g FILE        True if file is set-group-id.
  -h FILE        True if file is a symbolic link.
  -L FILE        True if file is a symbolic link.
  -k FILE        True if file has its `sticky' bit set.
  -p FILE        True if file is a named pipe.
  -r FILE        True if file is readable by you.
  -s FILE        True if file exists and is not empty.
  -S FILE        True if file is a socket.
  -t FD          True if FD is opened on a terminal.
  -u FILE        True if the file is set-user-id.
  -w FILE        True if the file is writable by you.
  -x FILE        True if the file is executable by you.
  -O FILE        True if the file is effectively owned by you.
  -G FILE        True if the file is effectively owned by your group.
  -N FILE        True if the file has been modified since it was last read.

  FILE1 -nt FILE2  True if file1 is newer than file2 (according to
                   modification date).

  FILE1 -ot FILE2  True if file1 is older than file2.

  FILE1 -ef FILE2  True if file1 is a hard link to file2.

String operators:

  -z STRING      True if string is empty.

  -n STRING
     STRING      True if string is not empty.

  STRING1 = STRING2
                 True if the strings are equal.
  STRING1 != STRING2
                 True if the strings are not equal.
  STRING1 &lt; STRING2
                 True if STRING1 sorts before STRING2 lexicographically.
  STRING1 &gt; STRING2
                 True if STRING1 sorts after STRING2 lexicographically.

Other operators:

  -o OPTION      True if the shell option OPTION is enabled.
  -v VAR         True if the shell variable VAR is set.
  -R VAR         True if the shell variable VAR is set and is a name
                 reference.
  ! EXPR         True if expr is false.
  EXPR1 -a EXPR2 True if both expr1 AND expr2 are true.
  EXPR1 -o EXPR2 True if either expr1 OR expr2 is true.

  arg1 OP arg2   Arithmetic tests.  OP is one of -eq, -ne,
                 -lt, -le, -gt, or -ge.

Arithmetic binary operators return true if ARG1 is equal, not-equal,
less-than, less-than-or-equal, greater-than, or greater-than-or-equal
than ARG2.

Exit Status:
Returns success if EXPR evaluates to true; fails if EXPR evaluates to
false or an invalid argument is given.
</code></pre>

<p><a name="arithmetic"></a></p>

<h2>compare integers</h2>

<p>Arithmetic tests are a form of <span class="w3-codspan">[expr]</span> for use on integers.</p>

<p>Tests between integers are carried out using operators <span class="w3-codspan">-eq</span>, <span class="w3-codspan">-ne</span>, <span class="w3-codspan">-lt</span>, <span class="w3-codspan">-le</span>, <span class="w3-codspan">-gt</span>, and <span class="w3-codspan">-ge</span> taking two arguments. Tests return true or false depending on evaluation, or false if arguments are invalid.</p>

<p>Here are some examples comparing integers.</p>

<pre><code>test 0 -eq 0
echo ${?} # 0
</code></pre>

<pre><code>test 0 -ne 0
echo ${?} # 1
</code></pre>

<pre><code>test 0 -lt 0
echo ${?} # 1
</code></pre>

<pre><code>test 0 -le 0
echo ${?} # 0
</code></pre>

<pre><code>test 0 -gt 0
echo ${?} # 1
</code></pre>

<pre><code>test 0 -ge 0
echo ${?} # 0
</code></pre>

<p>Here are some more practical integer comparison examples.</p>

<pre><code>test ${#} -eq 0 # no arguments were provided
</code></pre>

<pre><code>test $(( int % 2 )) -eq 0 # int is even
</code></pre>

<pre><code>test ${int} -gt 0 # int is a natural number
</code></pre>

<pre><code>test ${b} -ge ${a} -a ${b} -le ${c} # b is in [a,c]
</code></pre>

<pre><code>test ${b} -lt ${a} -o ${b} -gt ${c} # b is out of the box
</code></pre>

<h2>examples</h2>

<h3>trivial if conditional block</h3>

<p>In my opinion, every program should have at least 1 of these. Others are optional but not necessary. This particular example is my default entry. It says that we'll just any parameters and exit. You could even say that this is the zeroth if conditional.</p>

<pre><code>if [ ${#} -eq 0 ] 
then
 true
else
 exit 1 # wrong args
fi
entry
</code></pre>

<h3>trivial but useful if conditional block</h3>

<p>On the contrary to the zeroth if conditional block, this is the last if conditional block. It says, okay whatever but we won't even bother until we're inside a function. It is useful when using subcommands.</p>

<pre><code>if [ ! ] 
then
 true
else
 exit 1 # wrong args
fi
entry ${@}
</code></pre>

<h3>just do something</h3>

<p><span class="w3-codespan">[   ] || do_something</span></p>

<h3>do nothing</h3>

<p><span class="w3-codespan">[ ! ] || do_something</span></p>

<h3>do something if <em>regex</em> matches stdin</h3>

<p><span class="w3-codespan">[[ ! "$( cat - )" ~= <em>regex</em> ]] || do_something</span></p>

<p>Notes</p>

<ol>
<li>Adding double quotations around ('"') around <em>regex</em> is interpreted as a literal quote so if the conditional isn't working as intend it may be because of double quotes.</li>
<li>The dashed filename ("-") doesn't carry any special meaning, it's there to hint that we are using standard input. Or if that is not the case, you may substitute in something else.</li>
<li>For spaces, use backslash ("\") because we don't have double quotes.</li>
</ol>

<hr />
<!--.w3-container--></div>
<!--.w3-card--></div>
<!--.w3-col--></div>
<div class="w3-col l4">
<div class="w3-card-2 w3-margin w3-margin-top w3-white">
<div class="w3-container">
<div class="w3-bar w3-white">
<a href="index.html" class="w3-bar-item w3-button w3-mobile">index</a>
<a href="bash.html" class="w3-bar-item w3-button w3-mobile">bash</a>
<a href="bash-conditionals.html" class="w3-bar-item w3-button w3-mobile">bash-conditionals</a>
<a href="bash-declare-integer.html" class="w3-bar-item w3-button w3-mobile">bash-declare-integer</a>
</div> 
<!--.w3-container--></div>
<!--.w3-card--></div>
<!--.w3-col--></div>
<!--.w3-row--></div>
<!-- Grid end -->
<!-- .w3-content --></div>
<footer class="w3-container w3-dark-grey w3-padding-32 w3-margin-top">
<p>&copy; 2017-2019 <a href="https://temptemp3.github.io/">temptemp3.github.io</a><br>
Built with <a href="https://github.com/temptemp3/sh2/blob/180702/u2.sh">u2.sh</a> Default theme and Vim</p>
<!--button class="w3-button w3-black w3-disabled w3-padding-large w3-margin-bottom">Previous</button>
<button class="w3-button w3-black w3-padding-large w3-margin-bottom">Next</button-->
<!--mute in global fields -->
<!--p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank" rel="nofollow">w3.css</a></p-->
</footer>
</body>
</html>
