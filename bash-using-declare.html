<!DOCTYPE html>
<html>
<head>
<meta charset="US-ASCII">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>bash using declare | temptemp3.github.io</title>

<link rel="stylesheet" href="css/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<style>
body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>
<body class="w3-light-grey">

<div class="w3-content" style="max-width:1400px">

<!-- Header -->
<header class="w3-container w3-center w3-padding-32"> 
<h1><b><a style="text-decoration:none;" href="https://temptemp3.github.io/">tempt2<sup>3</sup></a></b></h1>
<p>Welcome to the blog of <span class="w3-tag"><a style="text-decoration:none;" href="https://github.com/temptemp3">temptemp3</a></span></p>
</header>

<!-- begin Grid -->
<div class="w3-row">

<div class="w3-col l8 s12">
<div class="w3-card-4 w3-margin w3-white">
<div class="w3-container">
<h1>bash using declare</h1>
<!--
[bash using declare](bash-using-declare.html)
-->

<p>Learn how to use declare to accomplish more than merely variable assignment: accessing arrays; functions; and much more.</p>

<hr />

<p>The <u>bash builtin</u> command <u>declare</u> provides access to variable attributes within the scope of a bash program. </p>

<p>Here is a list of ways declare may be used. </p>

<h2>to dump variables</h2>

<p>Using declare by itself may be used to dump variable names and functions along with their value and definitions, respectfully.</p>

<pre><code>declare
</code></pre>

<h2>to test a function</h2>

<p>The declare command may be used to test if a function has been declared and is usable within the scope of the bash program.</p>

<pre><code>#
# return name and definition of function if declared
#
declare -f ${function_name} 
</code></pre>

<pre><code>#
# returns name only of function if declared
#
declare -F ${function_name} 
</code></pre>

<h2>to give a variable attributes</h2>

<pre><code>#
# give variable attribute x
#
declare -X VARIABLE 
</code></pre>

<h2>to remove variable attributes</h2>

<p>Use '+' instead of '-'.</p>

<pre><code>#
# remove attribute x from variable
#
declare +X VARIABLE 
</code></pre>

<p>Attribute removal behavior may vary of array and readonly variables.</p>

<h2>to list attributes</h2>

<pre><code>declare -p 
</code></pre>

<h2>to declare a variable without attributes</h2>

<pre><code>#
# declare variable without attribute
#
declare VARIABLE[=VALUE] 
</code></pre>

<p>equvalent to</p>

<pre><code>#
# declare variable 
#
VARIABLE=[VALUE] 
</code></pre>

<h2>to declare an array</h2>

<h3>indexed arrays</h3>

<pre><code>#
# declare an array
#
declare -a VARIABLE 
</code></pre>

<h3>associative arrays, hashes, map, dictionary, or collection of (key,value) pairs</h3>

<pre><code>#
# declare an associative arrays
#
declare -A VARIABLE 
</code></pre>

<h3>associative arrays in the wild</h3>

<pre><code>declare -A document
...
get-document-meta() {
 local document_meta
 local document_meta_name
 local document_meta_value
 document_meta=$(
  cat ${file} \
  | grep \
  -e '<[!]--\s\+[a-z-]\+:[a-z,]\+\s\+-->' --only-matching \
  | sed -e 's/\(.*\)/\1/' \
  -e 's/<!--\s\+//g' \
  -e 's/\s\+-->//g' 
 )
 test ! "${document_meta}" || {
  document_meta_name=$( 
   echo "${document_meta}" | cut -f1 -d:
  )
  document_meta_value=$(
   echo "${document_meta}" | cut -f2 -d:
  )
  document["${document_meta_name}"]="${document_meta_value}" 
 }
}
</code></pre>

<p>source: <a href="https://github.com/temptemp3/sh2-u2-theme-default/blob/master/include.sh">sh2-u2-theme-default/include.sh</a></p>

<h2>to declare a readonly variable</h2>

<pre><code>#
# declare readonly
#
declare -r VARIABLE 
</code></pre>

<h2>to declare a variable to be treated as an integer</h2>

<pre><code>#
# declare integer
#
declare -i VARIABLE 
</code></pre>

<h2>to declare a variable to be case-insensitive, or lowercase</h2>

<pre><code>#
# declare lower
#
declare -l VARIABLE 
</code></pre>

<h2>to declare a variable to be uppercase</h2>

<pre><code>#
# declare upper
#
declare -u VARIABLE 
</code></pre>

<h2>to declare a variable to be a reference to another variable</h2>

<pre><code>#
# declare nameref
#
declare -n VARIABLE 
</code></pre>

<hr />
<!--.w3-container--></div>
<!--.w3-card--></div>
<!--.w3-col--></div>

<div class="w3-col l4">
<div class="w3-card-2 w3-margin w3-margin-top w3-white">
<div class="w3-container">
<div class="w3-bar w3-white">
<a href="index.html" class="w3-bar-item w3-button w3-mobile">index</a>
<a href="aws-autoscaling-enable-metrics-collection-for-asg.html" class="w3-bar-item w3-button w3-mobile">aws-autoscaling-enable-metrics-collection-for-asg</a>
<a href="bash-one-liners.html" class="w3-bar-item w3-button w3-mobile">bash-one-liners</a>
<a href="bash-script-coding-style-guide.html" class="w3-bar-item w3-button w3-mobile">bash-script-coding-style-guide</a>
<a href="bash-using-declare.html" class="w3-bar-item w3-button w3-mobile">bash-using-declare</a>
<a href="css-w3-modals.html" class="w3-bar-item w3-button w3-mobile">css-w3-modals</a>
<a href="git-how-to-migrate-standalone-bash-program-to-package-based-program.html" class="w3-bar-item w3-button w3-mobile">git-how-to-migrate-standalone-bash-program-to-package-based-program</a>
<a href="hello-world.html" class="w3-bar-item w3-button w3-mobile">hello-world</a>
<a href="how-to-setup-github-pages-for-user.html" class="w3-bar-item w3-button w3-mobile">how-to-setup-github-pages-for-user</a>
<a href="links.html" class="w3-bar-item w3-button w3-mobile">links</a>
<a href="seo-optimal-intro-length.html" class="w3-bar-item w3-button w3-mobile">seo-optimal-intro-length</a>
<a href="seo-optimal-title-length.html" class="w3-bar-item w3-button w3-mobile">seo-optimal-title-length</a>
<a href="seo-pinging-crawlers.html" class="w3-bar-item w3-button w3-mobile">seo-pinging-crawlers</a>
<a href="www-protocol-relative-url.html" class="w3-bar-item w3-button w3-mobile">www-protocol-relative-url</a>
<a href="the-little-vimmer.html" class="w3-bar-item w3-button w3-mobile">the-little-vimmer</a>
</div> 
<!--.w3-container--></div>
<!--.w3-card--></div>
<!--.w3-col--></div>

<!--.w3-row--></div>
<!-- Grid end -->

<!-- .w3-content --></div>

<footer class="w3-container w3-dark-grey w3-padding-32 w3-margin-top">
<p>&copy; 2017 <a href="https://temptemp3.github.io/">temptemp3.github.io</a></p>
<!--button class="w3-button w3-black w3-disabled w3-padding-large w3-margin-bottom">Previous</button>
<button class="w3-button w3-black w3-padding-large w3-margin-bottom">Next</button-->
</footer>

</body>
</html>
