<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>bash using declare | temptemp3.github.io</title>

<link rel="canonical" href="https://temptemp3.github.io/bash-using-declare.html" />
<link rel="stylesheet" href="css/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<style>
body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-104620931-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body class="w3-light-grey">
<div class="w3-content" style="max-width:1400px">
<!-- Header -->
<header class="w3-container w3-center w3-padding-32"> 
<h1><b><a style="text-decoration:none;" href="https://temptemp3.github.io/">tempt2<sup>3</sup></a></b></h1>
<p>Welcome to the blog of <span class="w3-tag"><a style="text-decoration:none;" href="https://github.com/temptemp3">temptemp3</a></span></p>
</header>
<!-- begin Grid -->
<div class="w3-row">
<div class="w3-col l8 s12">
<div class="w3-card-4 w3-margin w3-white">
<div class="w3-container">
<h1>bash using declare</h1>

<!--
[bash using declare](bash-using-declare.html)
-->

<p>One thing you learn later in bash is how to use the builtin declare to modify variable attributes allowing creation of arrays, listing of defined functions, and integers.</p>

<hr />

<p>The <u>bash builtin</u> command <u>declare</u> provides access to variable attributes within the scope of a bash program. </p>

<p>Here is a list of ways declare may be used. </p>

<h2>to declare an array</h2>

<p>declaring arrays in bash</p>

<h3>indexed arrays</h3>

<p><code class="w3-codespan">declare -a</code> in bash</p>

<p>The <code class="w3-codespan">-a</code> option adds the indexed array attribute to the variable name provided to the declare command.</p>

<pre><code>#
# declare an array
#
declare -a VARIABLE 
</code></pre>

<h3>associative arrays, hashes, map, dictionary, or collection of (key,value) pairs</h3>

<p><code class="w3-codespan">declare -A</code> in bash</p>

<p>The <code class="w3-codespan">-A</code> option adds the associative array attribute to the variable name provided to the declare command.</p>

<p>Indexed array variable example</p>

<pre><code>#
# declare an associative arrays
#
declare -A VARIABLE 
</code></pre>

<h4>associative arrays in the wild</h4>

<p>Associative array variable example using array to store document meta name value pairs</p>

<pre><code>declare -A document
...
get-document-meta() {
 local document_meta
 local document_meta_name
 local document_meta_value
 document_meta=$(
  cat ${file} \
  | grep \
  -e '<[!]--\s\+[a-z-]\+:[a-z,]\+\s\+-->' --only-matching \
  | sed -e 's/\(.*\)/\1/' \
  -e 's/<!--\s\+//g' \
  -e 's/\s\+-->//g' 
 )
 test ! "${document_meta}" || {
  document_meta_name=$( 
   echo "${document_meta}" | cut -f1 -d:
  )
  document_meta_value=$(
   echo "${document_meta}" | cut -f2 -d:
  )
  document["${document_meta_name}"]="${document_meta_value}" 
 }
}
</code></pre>

<p>source: <a href="https://github.com/temptemp3/sh2-u2-theme-default/blob/master/include.sh">sh2-u2-theme-default/include.sh</a></p>

<h2>to declare a variable to be a reference to another variable</h2>

<p><code class="w3-codespan">declare -n</code> in bash</p>

<p>The <code class="w3-codespan">-n</code> option adds the nameref attribute to the name provided to the declare command.</p>

<p>Nameref variable example</p>

<pre><code>#
# declare nameref
#
declare -n VARIABLE 
</code></pre>

<h2>to dump variables</h2>

<p>Using declare by itself may be used to dump variable names and functions along with their value and definitions, respectfully.</p>

<p>Declare command example</p>

<pre><code>declare
</code></pre>

<h2>to test a function</h2>

<p>The declare command may be used to test if a function has been declared and is usable within the scope of the bash program.</p>

<p>Function test examples</p>

<pre><code>#
# return name and definition of function if declared
#
declare -f ${function_name} 
</code></pre>

<pre><code>#
# returns name only of function if declared
#
declare -F ${function_name} 
</code></pre>

<h2>to give a variable attributes</h2>

<p>Attribute variable example</p>

<pre><code>#
# give variable attribute x
#
declare -X VARIABLE 
</code></pre>

<h2>to remove variable attributes</h2>

<p>Use '+' instead of '-'.</p>

<p>Variable attribute removal example</p>

<pre><code>#
# remove attribute x from variable
#
declare +X VARIABLE 
</code></pre>

<p>Attribute removal behavior may vary of array and readonly variables.</p>

<h2>to list attributes</h2>

<p><code class="w3-codespan">declare -p</code> in bash</p>

<p>The <code class="w3-codespan">-p</code> option displays the attributes of the name provided to the declare command. Variables may include an assigned value.</p>

<pre><code>declare -p 
</code></pre>

<h2>to declare a variable without attributes</h2>

<p><code class="w3-codespan">declare</code> in bash without attributes</p>

<p>The declare command may be used without specifying attributes resulting in an assignment.</p>

<p>Declare variable example</p>

<pre><code>#
# declare variable without attribute
#
declare VARIABLE[=VALUE] 
</code></pre>

<p>equvalent to</p>

<pre><code>#
# declare variable 
#
VARIABLE=[VALUE] 
</code></pre>

<h2>to declare a readonly variable</h2>

<p><code class="w3-codespan">declare -r</code> in bash</p>

<p>The <code class="w3-codespan">-r</code> option adds the read-only attribute to the variable name provided to the declare command such that the variable may not be reassigned.</p>

<p>Read-only variable example</p>

<pre><code>#
# declare readonly
#
declare -r VARIABLE 
</code></pre>

<p><a name="bash-declare-integer"></a></p>

<h2>to declare a variable to be treated as an integer</h2>

<p><code class="w3-codespan">declare -i</code> in bash</p>

<p>The <code class="w3-codespan">-i</code> option adds the integer attribute to the variable name provided to the declare command such that the variable is to treated as an integer.</p>

<p>Integer variable example</p>

<pre><code>#
# declare integer
#
declare -i VARIABLE 
</code></pre>

<p>See also</p>

<ul>
<li><a href="bash-declare-integer.html">bash declare integer</a></li>
</ul>

<h2>to declare a variable to be case-insensitive, or lowercase</h2>

<p><code class="w3-codespan">declare -l</code> in bash</p>

<p>The <code class="w3-codespan">-l</code> option adds the lowercase attribute to the variable name provided to the declare command such that any value is converted to lowercase on assignment.</p>

<p>Lower variable example</p>

<pre><code>#
# declare lower
#
declare -l VARIABLE 
</code></pre>

<h2>to declare a variable to be uppercase</h2>

<p><code class="w3-codespan">declare -u</code> in bash</p>

<p>The <code class="w3-codespan">-u</code> option adds the uppercase attribute to the variable name provided to the declare command such that any value is converted to uppercase on assignment.</p>

<p>Upper variable example</p>

<pre><code>#
# declare upper
#
declare -u VARIABLE 
</code></pre>

<h2>to export variables or functions to subshells</h2>

<p><code class="w3-codespan">declare -x</code> in bash</p>

<p>The <code class="w3-codespan">-x</code> option adds the export attribute to the variable or function name provided to the declare command.</p>

<h3>export variable to subshells</h3>

<p>Export variable example</p>

<pre><code>#
# declare export variable
#
declare -x VARIABLE 
</code></pre>

<h3>export function to subshells</h3>

<p>Export function example</p>

<pre><code>#
# declare export function
#
declare -xf FUNCTION
</code></pre>

<hr />
<!--.w3-container--></div>
<!--.w3-card--></div>
<!--.w3-col--></div>
<div class="w3-col l4">
<div class="w3-card-2 w3-margin w3-margin-top w3-white">
<div class="w3-container">
<div class="w3-bar w3-white">
<a href="index.html" class="w3-bar-item w3-button w3-mobile">index</a>
<a href="aws-autoscaling-enable-metrics-collection-for-asg.html" class="w3-bar-item w3-button w3-mobile">aws-autoscaling-enable-metrics-collection-for-asg</a>
<a href="bash-declare-integer.html" class="w3-bar-item w3-button w3-mobile">bash-declare-integer</a>
<a href="bash-using-declare.html" class="w3-bar-item w3-button w3-mobile">bash-using-declare</a>
</div> 
<!--.w3-container--></div>
<!--.w3-card--></div>
<!--.w3-col--></div>
<!--.w3-row--></div>
<!-- Grid end -->
<!-- .w3-content --></div>
<footer class="w3-container w3-dark-grey w3-padding-32 w3-margin-top">
<p>&copy; 2017 <a href="https://temptemp3.github.io/">temptemp3.github.io</a></p>
<!--button class="w3-button w3-black w3-disabled w3-padding-large w3-margin-bottom">Previous</button>
<button class="w3-button w3-black w3-padding-large w3-margin-bottom">Next</button-->
<!--mute in global fields -->
<!--p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank" rel="nofollow">w3.css</a></p-->
</footer>
</body>
</html>
