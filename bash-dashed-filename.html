<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>bash dashed filename | temptemp3.github.io</title>


<link rel="canonical" href="https://temptemp3.github.io/bash-dashed-filename.html" />
<link rel="stylesheet" href="css/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<style>
body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-104620931-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body class="w3-light-grey">
<div class="w3-content" style="max-width:1400px">

<header class="w3-container w3-center w3-padding-32"> 
<h1><b><a style="text-decoration:none;" href="https://temptemp3.github.io/">tempt2<sup>3</sup></a></b></h1>
<p>Welcome to the blog of <span class="w3-tag"><a style="text-decoration:none;" href="https://github.com/temptemp3">temptemp3</a></span></p>
</header>

<div class="w3-row">
<div class="w3-col l8 s12">
<div class="w3-card-4 w3-margin w3-white">
<div class="w3-container">
<h1>bash dashed filename</h1>

<!--
[bash dashed filename](bash-dashed-filename.html)
-->

<hr />

<p>In bash, the dashed filename (“-”) turns up and is often misunderstood. </p>

<p>Although it doesn't change the function of a script, it does provide insight on how the script is used in context, improving readability.</p>

<p>Within the scope of bash, it is any file named by a single dash. However, within the context of a command line utility such as cat and sed following a convention, it may be used as a sign that the command will opt to read from <span class="w3-codespan">/dev/stdin</span>. </p>

<p>Combined with proper usage in a bash script, it may improve shell script readability.</p>

<h2>Usage of dash ("-") as filename in FreeBSD 9.1</h2>

<p>In a FreeBSD 9.1 box somewhere you write a filter</p>

<pre><code>escape() { sed -e 's/¥//¥¥¥//g' - ; }
</code></pre>

<p>which we test and results in</p>

<pre><code>echo asdf/asfd | escape
sed: -: No such file or directory
</code></pre>

<p>so we remove the dash</p>

<pre><code>escape() { sed -e 's/¥//¥¥¥//g' ; }
</code></pre>

<p>and life is good</p>

<pre><code>echo asdf/asfd | escape
asdf¥/asfd
</code></pre>

<h2>Bash: Finding Your Way Along the Path of Dash</h2>

<p>Here follow steps to use the dashed filename in bash with confidence.</p>

<h3>Step 1: Trust in dash</h3>

<p>The dashed filename is a convention where we say that in the command line utility we are going to allow input to be read from /dev/stdin. 
For most commands not overlapping with bash reserved words or user defined function, the dashed filename shouldn't cause any problems.
Trust in dash.</p>

<h3>Step 2: Know thy followers of dash</h3>

<p>At the time of writing the command line utility, followers of dash may not have thought it was important to note that the dashed filename may be interpreted as something else. It is important to keep tabs on which utilities if not all follow the dash filename convention. </p>

<p>Here is short list.</p>

<p>Known followers of dash</p>

<ul>
<li>cat</li>
<li>sed</li>
<li>awk</li>
<li>gawk</li>
<li><em>others are assumed to exist</em></li>
</ul>

<p>More steps may be added in the future.</p>

<h2>Examples: Using the Dashed Filename in Bash</h2>

<p>Okay. Let's see how many times we can dress up dash in bash examples using the dashed filename.</p>

<h3>Simply dash</h3>

<p>Redirect standard input to output.</p>

<pre><code>cat -
</code></pre>

<h3>Converted dash</h3>

<p>Convert some output into standard input and loop. In our case here, we are using the clipboard. Exact device name may vary.</p>

<pre><code>for i in $( cat - )
do
echo ${i}
done < /dev/clipboard
</code></pre>

<h3>Filter dash</h3>

<p>Filter some output.</p>

<pre><code>filter() {
  echo filtering ... 1>&2
  sed ¥
  -e 's/a/b/' ¥
  -
}
echo abc | filter # bbc
</code></pre>

<h3>Sum dash</h3>

<p>Sum of first 5 number in the Fibonacci sequence.</p>

<pre><code>sum() {
  echo calculating sum ... 1>&2
  gawk '
{ sum=sum+$(0) }
END { print sum }
' -
}
{
  cat << EOF
1
2
3
5
8
EOF
} | sum # 19
</code></pre>

<p>Note that in any of the above example "-" may be omitted in which case standard input will be read by the command line utility in question. Having a dash there just makes it obvious that is what you plan to do.</p>

<p>More bash examples using dashed filenames may be added later.</p>

<h2>Bottom Line: Dashed Filename in Bash</h2>

<p>Here you have seen that proper use of the dashed filename can make quick work in cases that would require typing out the fill path to files such as standard input. However, do not forget that it is just a convention used by command line utilities. Worst case scenario, you create a real dashed filename.</p>

<p>To be completely honest you can get away without using it at all much like the ";". Nevertheless, it doesn't hurt to be familiar with the conventions.</p>

<hr />
</div>
</div>
</div>
<div class="w3-col l4">
<div class="w3-card-2 w3-margin w3-margin-top w3-white">
<div class="w3-container">
<div class="w3-bar w3-white">
<a href="index.html" class="w3-bar-item w3-button w3-mobile">index</a>
<a href="bash-dashed-filename.html" class="w3-bar-item w3-button w3-mobile">bash-dashed-filename</a>
<a href="laravel.html" class="w3-bar-item w3-button w3-mobile">laravel</a>
</div> 
</div>
</div>
</div>
</div>

</div>
<footer class="w3-container w3-dark-grey w3-padding-32 w3-margin-top">
<p>&copy; 2017-2019 <a href="https://temptemp3.github.io/">temptemp3.github.io</a><br>
Built with <a href="https://github.com/temptemp3/sh2/blob/180702/u2.sh">u2.sh</a> Default theme and Vim</p>
<!--button class="w3-button w3-black w3-disabled w3-padding-large w3-margin-bottom">Previous</button>
<button class="w3-button w3-black w3-padding-large w3-margin-bottom">Next</button-->


</footer>
</body>
</html>
